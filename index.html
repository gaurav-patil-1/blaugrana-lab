<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="color-scheme" content="light dark" />
  <title>Blaugrana Lab — Home</title>
  <meta name="description" content="A football-themed, multi-page static playground for RUM profiling and error/performance labs." />

  <link rel="icon" href="./assets/img/illustrations/favicon.svg" type="image/svg+xml" />
  <link rel="stylesheet" href="./assets/css/styles.css" />

  <script>
    // Theme bootstrap to avoid flash
    (function () {
      try {
        var mode = localStorage.getItem('theme') || 'system';
        var prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
        var isDark = mode === 'dark' || (mode === 'system' && prefersDark);
        document.documentElement.dataset.theme = isDark ? 'dark' : 'light';
      } catch (e) {}
    })();
    // CPRUM DataLayer bootstrap
    window.CPRUMDataLayer = window.CPRUMDataLayer || [];
    window.cpRumTag = window.cpRumTag || function(){ window.CPRUMDataLayer.push(arguments); };
  </script>
</head>

<body>
  <a class="skip-link" href="#main">Skip to content</a>

  <div id="site-header" data-include="./partials/header.html"></div>

  <main id="main" class="main">
    <section class="hero">
      <div class="container hero-inner">
        <div class="hero-copy">
          <div class="kicker">
            <span aria-hidden="true">⚽</span>
            Blaugrana vibes • built for profiling
          </div>
          <h1>Kick the tires on errors, UX, and performance.</h1>
          <p>
            A modern, fully responsive static site inspired by a certain #10 era (colors + storytelling),
            designed as a safe playground for your JSP/RUM scripts (Lastmile + rProfiler).
          </p>

          <div class="hero-cta">
            <a class="btn btn-primary" href="./performance-lab.html">Open Performance Lab</a>
            <a class="btn btn-secondary" href="./error-lab.html">Open Error Lab</a>
            <button class="btn btn-ghost" id="cta-tracepoint" type="button" data-tooltip="Pushes cpRumTag('tracepoint', ...)">
              Send tracepoint
            </button>
          </div>

          <div class="hero-badges" aria-label="Highlights">
            <span class="badge">Static + GitHub Pages</span>
            <span class="badge">Dark mode</span>
            <span class="badge">Lots of UI components</span>
          </div>
        </div>

        <div class="hero-art" aria-hidden="true">
          <img
            src="./assets/img/illustrations/hero-stadium.svg"
            width="680"
            height="520"
            alt=""
          />
        </div>
      </div>
    </section>

    <section class="section">
      <div class="container">
        <div class="section-title">
          <h2>Quick stats</h2>
          <div class="hint">Animated counters + chart for instrumentation</div>
        </div>

        <div class="stats-grid">
          <div class="card">
            <div class="stat-label">UI components</div>
            <div class="stat-value" data-counter data-target="26">0</div>
            <div class="small muted">Tabs, accordions, drawers, modals, toasts, tooltips…</div>
          </div>
          <div class="card">
            <div class="stat-label">Lab triggers</div>
            <div class="stat-value" data-counter data-target="18">0</div>
            <div class="small muted">Controlled error + performance signals</div>
          </div>
          <div class="card">
            <div class="stat-label">Fixtures loaded</div>
            <div class="stat-value" data-counter data-target="30">0</div>
            <div class="small muted">From <code>/data/fixtures.json</code></div>
          </div>
          <div class="card">
            <div class="stat-label">Storage keys</div>
            <div class="stat-value" data-counter data-target="4">0</div>
            <div class="small muted">Theme, cart, logging flag, tracepoints</div>
          </div>
        </div>

        <div class="grid grid-2" style="margin-top:14px;">
          <div class="card">
            <div class="card-header">
              <h3 class="card-title">Pulse chart</h3>
              <button class="btn btn-small btn-ghost" id="toast-demo" type="button">Toast demo</button>
            </div>
            <p class="muted">A simple canvas chart (no libraries). Resize the window to redraw.</p>
            <canvas id="pulse-chart" style="width:100%; height:240px; border-radius:16px; border:1px solid var(--border); background: var(--surface-2);"></canvas>
            <p class="small muted" style="margin-top:10px;">
              Tip: turn on verbose logging via <code>cpRumTag('logging', true)</code> and watch console output.
            </p>
          </div>

          <div class="card">
            <div class="card-header">
              <h3 class="card-title">Featured stories</h3>
              <span class="chip">Original SVG</span>
            </div>

            <div class="grid" style="gap:12px;">
              <article class="card soft">
                <div class="card-header">
                  <div>
                    <div class="muted small">Story</div>
                    <h3 class="card-title">The quiet art of the half‑space</h3>
                  </div>
                  <img src="./assets/img/illustrations/player-silhouette.svg" alt="" width="56" height="56" />
                </div>
                <p class="muted">A nod to the playmaking #10 era — abstracted, original, and safe to ship.</p>
                <div class="btn-row">
                  <a class="btn btn-small" href="./legends.html">Open timeline</a>
                  <a class="btn btn-small btn-ghost" href="./gallery.html">Browse gallery</a>
                </div>
              </article>

              <article class="card soft">
                <div class="card-header">
                  <div>
                    <div class="muted small">Story</div>
                    <h3 class="card-title">Matchday becomes a dataset</h3>
                  </div>
                  <img src="./assets/img/illustrations/ball.svg" alt="" width="56" height="56" />
                </div>
                <p class="muted">Filter, sort, paginate — and watch your RUM scripts light up.</p>
                <div class="btn-row">
                  <a class="btn btn-small" href="./matchday.html">Open Matchday</a>
                  <a class="btn btn-small btn-ghost" href="./performance-lab.html">Measure work</a>
                </div>
              </article>
            </div>
          </div>
        </div>

      </div>
    </section>

    <section class="section">
      <div class="container">
        <div class="section-title">
          <h2>Component showcase</h2>
          <div class="hint">Tabs + accordions + forms</div>
        </div>

        <div class="grid grid-2">
          <div class="tabs" data-tabs>
            <div class="tab-list" role="tablist" aria-label="Home tabs">
              <button class="tab" role="tab" aria-selected="true">Why this exists</button>
              <button class="tab" role="tab" aria-selected="false">DataLayer</button>
              <button class="tab" role="tab" aria-selected="false">Try next</button>
            </div>

            <div class="tab-panel" role="tabpanel">
              <p>
                This site is intentionally “busy”: lots of components, lots of interaction points,
                and safe ways to trigger errors and performance work.
              </p>
              <div class="alert">
                <strong>Not affiliated:</strong> This playground is inspired by a Barcelona‑style palette and a #10 story arc,
                but uses no club logos/crests and no copyrighted photos.
              </div>
            </div>

            <div class="tab-panel" role="tabpanel" hidden>
              <p class="muted">Supported commands:</p>
              <ul>
                <li><code>cpRumTag('logging', true/false)</code></li>
                <li><code>cpRumTag('tracepoint', key, value)</code></li>
                <li><code>cpRumTag('pageGroup', value)</code></li>
              </ul>
              <p class="small muted">Open the Debug HUD (bug icon in the header) to see current values.</p>
            </div>

            <div class="tab-panel" role="tabpanel" hidden>
              <div class="btn-row">
                <a class="btn btn-primary" href="./error-lab.html">Trigger errors</a>
                <a class="btn btn-secondary" href="./performance-lab.html">Generate long tasks</a>
                <a class="btn" href="./shop.html">Stress localStorage</a>
              </div>
            </div>
          </div>

          <div class="accordion" data-accordion>
            <div class="accordion-item">
              <button class="accordion-button" aria-expanded="true" aria-controls="acc-1">
                What’s inside?
                <span class="icon" aria-hidden="true">›</span>
              </button>
              <div class="accordion-panel" id="acc-1">
                Multi-page static site, shared header/footer, dark mode, debug HUD, plus dedicated Error &amp; Performance labs.
              </div>
            </div>

            <div class="accordion-item">
              <button class="accordion-button" aria-expanded="false" aria-controls="acc-2">
                How to host?
                <span class="icon" aria-hidden="true">›</span>
              </button>
              <div class="accordion-panel" id="acc-2" hidden>
                Commit to GitHub and enable GitHub Pages. Use relative paths (already done). See <code>README.md</code>.
              </div>
            </div>

            <div class="accordion-item">
              <button class="accordion-button" aria-expanded="false" aria-controls="acc-3">
                Where do I change content?
                <span class="icon" aria-hidden="true">›</span>
              </button>
              <div class="accordion-panel" id="acc-3" hidden>
                Update JSON files in <code>/data</code>, or edit the page HTML. The visuals are custom SVG in <code>/assets/img</code>.
              </div>
            </div>
          </div>
        </div>

        <div class="card" style="margin-top:14px;">
          <div class="card-header">
            <h3 class="card-title">One-line quickstart</h3>
            <span class="chip">No build step</span>
          </div>
          <p class="muted">
            Run a local static server so partial includes work (fetching <code>partials/header.html</code> and <code>partials/footer.html</code>):
          </p>
          <pre class="status-box"><code>python3 -m http.server 8080</code></pre>
        </div>

      </div>
    </section>
  </main>

  <div id="site-footer" data-include="./partials/footer.html"></div>

  <script src="./assets/js/app.js" defer></script>
  <script src="./assets/js/audio.js" defer></script>
  <script src="./assets/js/home.js" defer></script>
</body>
</html>
